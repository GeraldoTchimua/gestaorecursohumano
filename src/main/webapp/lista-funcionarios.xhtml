<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Listar Funcionarios</title>
        <title>Bootstrap Example</title>
        <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
                <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
                    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
                    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
                </link>
            </meta>
        </meta>
    </h:head>


    <h:body>

        <h:form> 

            <h:panelGrid columns="1">             

                <h:outputLabel value="Nome"/>
                <h:inputText id="nome" value="#{funcionarioMBean.funcionario.nome}" 
                             required="true" requiredMessage="O campo nome é obrigatorio" size="60"/>
                <h:message for="nome"/>
            </h:panelGrid>

            <h:panelGrid columns="3"> 
                <h:outputLabel value="Sobrenome"/>
                <h:inputText id="sobrenome" value="#{funcionarioMBean.funcionario.sobrenome}" 
                             required="true" requiredMessage="O campo sobrenome é obrigatorio" size="60"/>
                <h:message for="sobrenome"/>
            </h:panelGrid>

            <h:outputLabel value="Departamento"/>
            <h:selectOneMenu value="#{funcionarioMBean.funcionario.departamento}">
                <f:selectItem itemValue="contabilidade" itemLabel="Contabilidade"/>
                <f:selectItem itemValue="formacao" itemLabel="Formação"/>
                <f:selectItem itemValue="higiene" itemLabel="Higiene"/>
                <f:selectItem itemValue="vendas" itemLabel="Vendas"/>
            </h:selectOneMenu>

            <h:outputLabel value="Data de Nascimento"/>
            <h:inputText id="data_nascimento" value="#{funcionarioMBean.funcionario.dataNascimento}" 
                         required="true" requiredMessage="O campo data de nascimento é obrigatorio">
                <f:convertDateTime dateStyle="medium" pattern="dd/MM/yy"/>
            </h:inputText>
            <h:message for="data_nascimento"/>

            <h:outputLabel value="Salario"/>
            <h:inputText id="salario" value="#{funcionarioMBean.funcionario.salario}" size="20">
                <f:convertNumber minFractionDigits="2"/>
            </h:inputText>
            <h:message for="salario"/>


            <h:outputLabel value="Endereço"/>
            <h:panelGroup>
                <h:panelGrid columns="4">
                    <h:outputLabel value="Casa"/>
                    <h:inputText value="#{funcionarioMBean.funcionario.casa}" size="30"/>

                    <h:outputLabel value="Rua"/>
                    <h:inputText value="#{funcionarioMBean.funcionario.rua}" size="30"/>

                    <h:outputLabel value="Bairro"/>
                    <h:inputText value="#{funcionarioMBean.funcionario.bairro}" size="30"/>

                    <h:outputLabel value="Municipio"/>
                    <h:selectOneMenu value="#{funcionarioMBean.funcionario.municipio}">
                        <f:selectItem itemValue="lubango" itemLabel="Lubango"/>
                        <f:selectItem itemValue="chibia" itemLabel="Chibia"/>
                        <f:selectItem itemValue="humpata" itemLabel="Humpata"/>

                    </h:selectOneMenu>
                </h:panelGrid>
            </h:panelGroup>

           
            <h:commandButton action="#{funcionarioMBean.guardr}" value="Guardar"/>
        </h:form>

        <div class="table-responsive-sm">
            <h:dataTable value="#{funcionarioMBean.funcionarios}" var="func" class="table">
                <f:facet name="header">Lista de Funcionarios</f:facet>

                <h:column>
                    <f:facet name="header">Nome</f:facet>
                        #{func.nome}
                </h:column>

                <h:column>
                    <f:facet name="header">Sobrenome</f:facet>
                        #{func.sobrenome}
                </h:column>

                <h:column>
                    <f:facet name="header">Departamento</f:facet>
                        #{func.departamento}
                </h:column>

                <h:column>
                    <f:facet name="header">Data de Nascimento</f:facet>
                        #{func.dataNascimento}
                </h:column>

                <h:column>
                    <f:facet name="header">Salário</f:facet>
                        #{func.salario}
                </h:column>

            </h:dataTable>
        </div>


    </h:body>
</html>

